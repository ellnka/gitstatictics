(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,s){e.exports=s(35)},29:function(e,t,s){},35:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),r=s(20),i=s.n(r),o=(s(29),s(30),s(23)),u=s(4);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=s(2),c=s(3),h=s(7),f=s(6),m=s(8),p=s(13),v=function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,null,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return fetch(e).then(function(e){return e.json()})})},{key:"update",value:function(e,t){return fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}}]),e}(),d=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={repos:e.repos},s.render(),s}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(this.state.repos){var e=Object.values(this.state.repos).map(function(e,t){return n.a.createElement("li",{className:"list-group-item",key:t},e.name)});return n.a.createElement("div",null,n.a.createElement("ul",{className:"list-group list-group-flush"},e))}}}]),t}(a.Component),_=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={statsInfo:[],statsRepos:[]},s}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this._resetStates(e)}},{key:"componentDidMount",value:function(){this._resetStates(this.props)}},{key:"render",value:function(){return n.a.createElement("div",null,this._renderStats(this.state.statsInfo),this._renderStats(this.state.statsRepos))}},{key:"_resetStates",value:function(e){if(e.info){var t=this._generateStatsInfo(e.info);this._setStatsInfo(t)}if(e.repos){var s=this._generateStatsRepos(e.repos);this._setStatsRepos(s)}}},{key:"_setStatsInfo",value:function(e){this.setState({statsInfo:e})}},{key:"_setStatsRepos",value:function(e){this.setState({statsRepos:e})}},{key:"_generateStatsInfo",value:function(e){return[{name:"Public Repos",value:e.public_repos},{name:"Public Gists",value:e.public_gists},{name:"Followers",value:e.followers},{name:"Following",value:e.following}]}},{key:"_generateStatsRepos",value:function(e){var t=Object.values(e),s=[];return s.push({name:"Languages",value:this._getLanguages(t).join(", ")}),s}},{key:"_renderStats",value:function(e){if(e){var t=Object.values(e).map(function(e,t){return n.a.createElement("li",{className:"list-group-item",key:t},e.name,": ",e.value)});return n.a.createElement("ul",{className:"list-group list-group-flush"},t)}}},{key:"_getLanguages",value:function(e){var t=[];return e&&e.length>0&&(t=e.map(function(e){return e.language}).filter(function(e,t,s){return s.indexOf(e)===t&&e})),t}}]),t}(a.Component),b=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={issues:[]},s.render(),s}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log("componentDidMount"),console.log(this.props),this._fetchIssues(this.props.repos)}},{key:"render",value:function(){var e=this;if(console.log("render"),console.log(this.state),this.state.issues){var t=this.state.issues.map(function(t,s){return n.a.createElement("li",{className:"list-group-item",key:s},n.a.createElement("h5",null,t.repo),e._renderIssues(t.issues))});return n.a.createElement("div",null,n.a.createElement("ul",{className:"list-group list-group-flush"},t))}}},{key:"_renderIssues",value:function(e){if(e){var t=e.map(function(e,t){return n.a.createElement("li",{className:"list-group-item",key:t},e)});return n.a.createElement("div",null,n.a.createElement("ul",{className:"list-group list-group-flush"},t))}}},{key:"_setIssues",value:function(e){this.setState({issues:e})}},{key:"_fetchIssues",value:function(e){var t=this;if(e){var s=function(s){var a=e[s],n=a.has_issues;if(console.log(n),!n)return"continue";var r=a.issues_url.replace("{/number}","");v.fetch(r).then(function(e){if(e.length){var s=t.state.issues,n={repo:a.name,issues:e.map(function(e){return e.title})};s.push(n),t._setIssues(s)}})};for(var a in e)s(a)}}}]),t}(a.Component),g=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={info:e.info},s}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this._setInfo(e.info)}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:""},n.a.createElement("img",{src:this.state.info.avatar_url,alt:this.state.info.login,className:"rounded float-left"})),n.a.createElement("div",{className:""},n.a.createElement("h3",null,this.state.info.login),n.a.createElement("span",{className:"badge badge-pill badge-light"},"Joined GitHub ",this._formatDate(this.state.info.created_at)),n.a.createElement("a",{href:this.state.info.url}," ",this.state.info.username)))}},{key:"_setInfo",value:function(e){this.setState({info:Object(p.a)({},e)})}},{key:"_formatDate",value:function(e){return new Date(e).toLocaleDateString()}}]),t}(a.Component),y=function(e){function t(e){var s;Object(l.a)(this,t),(s=Object(h.a)(this,Object(f.a)(t).call(this,e)))._tabs=["stats","repos","issues"];var a=e.username||e.match.params.username;return s.state={active_tab:s._tabs[0],username:a,userInfo:null,repos:null,error:!1},s._requestUser(a),s}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.error?this._renderError():this.state.username&&this.state.userInfo?n.a.createElement("div",null,this._renderUserProfile(),n.a.createElement(u.a,{path:"/userProfile/:username/stats",component:_}),n.a.createElement(u.a,{path:"/userProfile/:username/repos",component:d}),n.a.createElement(u.a,{path:"/userProfile/:username/issues",component:b})):n.a.createElement("div",null," ",this._renderLoading())}},{key:"componentWillReceiveProps",value:function(e){this._setUsername(e.username),this._setUserInfo(null),this._requestUser(e.username)}},{key:"_setActiveTab",value:function(e){this.setState({active_tab:e})}},{key:"_setRepos",value:function(e){this.setState({repos:Object(p.a)({},e)})}},{key:"_setUsername",value:function(e){this.setState({username:e})}},{key:"_setUserInfo",value:function(e){this.setState({userInfo:Object(p.a)({},e)})}},{key:"_setError",value:function(e){this.setState({error:e})}},{key:"_renderError",value:function(){return n.a.createElement("div",{className:"alert alert-danger",role:"alert"},"User not found!")}},{key:"_renderLoading",value:function(){return n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement("strong",null,"Loading..."),n.a.createElement("div",{className:"spinner-border ml-auto",role:"status","aria-hidden":"true"}))}},{key:"_renderUserProfile",value:function(){return n.a.createElement("div",{id:"coder",className:"card"},this._renderUserInfo(),n.a.createElement("ul",{className:"nav nav-tabs",onClick:this._tabClickHandler.bind(this)},n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link active",href:"#",id:this._tabs[0]},"Statistics")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link",href:"#",id:this._tabs[1]},"Repositories")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link",href:"#",id:this._tabs[2]},"Issues"))),this._renderRepos(),this._renderStats(),this._renderIssues())}},{key:"_renderUserInfo",value:function(){if(this.state.userInfo&&this.state.username)return n.a.createElement(g,{info:this.state.userInfo})}},{key:"_renderStats",value:function(){if((this.state.userInfo||this.state.repos)&&this.state.active_tab===this._tabs[0])return n.a.createElement(_,{info:this.state.userInfo,repos:this.state.repos})}},{key:"_renderRepos",value:function(){if(this.state.repos&&this.state.active_tab===this._tabs[1])return n.a.createElement(d,{repos:this.state.repos})}},{key:"_renderIssues",value:function(){if(this.state.repos&&this.state.active_tab===this._tabs[2])return n.a.createElement(b,{repos:this.state.repos})}},{key:"_requestUser",value:function(e){var t="https://api.github.com/users/"+e;this._fetchUser(t)}},{key:"_fetchUser",value:function(e){var t=this;v.fetch(e).then(function(e){e.id?(t._setError(!1),t._setUserInfo(e),t._fetchRepos(e.repos_url)):t._setError(!0)})}},{key:"_fetchRepos",value:function(e){var t=this;v.fetch(e).then(function(e){e.length&&t._setRepos(e)})}},{key:"_tabClickHandler",value:function(e){if("A"===e.target.tagName){var t=e.target.closest("UL").querySelector("#".concat(this.state.active_tab)),s=e.target;s.id===this._tabs[0]&&this.props.history.push("/userProfile/"+this.state.username),s.id===this._tabs[1]&&this.props.history.push("/userProfile/"+this.state.username+"/repos"),s.id===this._tabs[2]&&this.props.history.push("/userProfile/"+this.state.username+"/issues"),t&&t.classList.contains("active")&&t.classList.remove("active"),s.classList.add("active"),this._setActiveTab(s.id)}}},{key:"_formatDate",value:function(e){return new Date(e).toLocaleDateString()}}]),t}(a.Component),k=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={username:""},s.$search=null,s.render(),s}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"container",role:"main"},this._searchInput(),n.a.createElement(u.a,{path:"/userProfile/:username",component:y}))}},{key:"_setUsername",value:function(e){this.setState({username:e})}},{key:"_setSearch",value:function(e){this.$search=e.target}},{key:"_searchInput",value:function(){return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this._submitHandler.bind(this)},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{name:"search",onChange:this._setSearch.bind(this),autoComplete:"off",placeholder:"Search username...",className:"form-control"}))),this._userProfile())}},{key:"_submitHandler",value:function(e){if(e.preventDefault(),this.$search){this.props.history.push("/"),this._setUsername("");var t=this.$search.value.toLowerCase().trim();this._setUsername(t),this.props.history.push("/userProfile/"+t)}}},{key:"_userProfile",value:function(){if(this.state.username)return n.a.createElement(y,{username:this.state.username,history:this.props.history})}}]),t}(a.Component);i.a.render(n.a.createElement(o.a,{basename:"/gitstats"},n.a.createElement("div",null,n.a.createElement(u.a,{path:"/",component:k}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.7b94f588.chunk.js.map